#!/bin/sh


alias gac="git add . && git commit -m"
alias gar="git_add_remote"
alias gca="git commit --amend"
alias gcir="git_create_init_repo"
alias gcl="git_clone_repo"
alias gcld="git_clone_repo_dhammafarer"
alias gclr="git_clone_role_dhammafarer"
alias gcmd="git checkout master && git merge dev"
alias gcr="git_create_repo"
alias glog="git log"
alias gpa="git remote | xargs -L1 git push --all"
alias gpgh="git push github"
alias gpo="git push -u origin"
alias gpod="git push -u origin dev"
alias gpod="git push -u origin dev"
alias gpom="git push -u origin main"
alias gpul="git pull origin main"
alias grar="git_remote_add_rpi"
alias grr="rm -rf .git && git init"
alias grrc="git rm -r --cached ."
alias grv="git remote -v"
alias gs="git switch"
alias gsl="git switch -"
alias gsar="git_submodule_add_role"
alias gsc="git switch -c"
alias gsd="git switch dev"
alias gsm="git switch main"
alias gsr="git_set_remote"
alias gst="git status"
alias gsts="git status --short"
alias gsur="git submodule update --remote"
alias nah="git reset --hard; git clean -dif;"
git_clone_repo() {
  git clone https://github.com/$1
}

git_clone_repo_dhammafarer() {
  git clone git@github.com:dhammafarer/$1.git $2
}

git_clone_role_dhammafarer() {
  cd ~/code/roles/ && git clone git@github.com:dhammafarer/ansible-role-$1.git $1
}

git_submodule_add_role() {
  git submodule add git@github.com:dhammafarer/ansible-role-$1.git $1
}

git_create_repo() {
  gh repo create $1 --public --source=. --remote=upstream --push
}

git_set_remote() {
  NAME=${1:-`basename $PWD`}
  git remote set-url origin git@github.com:dhammafarer/$NAME.git
  git remote -v
}

git_add_remote() {
  NAME=${1:-`basename $PWD`}
  git remote add origin git@github.com:dhammafarer/$NAME.git
  git remote -v
}

git_remote_add_rpi() {
  git remote add origin git@rpi:/srv/git/$1
  git remote -v
}

git_create_init_repo() {
  git_create_repo &&
  git init &&
  git_add_remote
}
